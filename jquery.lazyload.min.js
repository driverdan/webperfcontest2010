(function(b,a){b.fn.lazyload=function(o){var j=!1,l="original",m="scroll",k="src",i=!j,c=this,h={threshold:0,container:a,failurelimit:0,event:m,effect:"show",namespace:".lazyload"};if(o){b.extend(h,o)}var f=b(h.container),g=h.namespace,e=h.event+g,d="appear"+g;var n=function(t){t=b(t);if(!t.length){return false}var u=h.threshold;if(f[0]===a){var p=f.height()+f.scrollTop(),s=f.scrollLeft(),y=f.width()+f.scrollLeft(),w=f.scrollTop()}else{var p=f.offset().top+f.height(),s=f.offset().left,y=f.offset().left+f.width(),w=f.offset().top}var x=t.offset().top+t.height(),q=t.offset().left,v=t.offset().left+t.width(),r=t.offset().top;return(r+u)<=p&&(q+u)<=y&&(x-u)>=w&&(v-u)>s};if(navigator.userAgent.match(/Android|iPad/)){n=function(t){if(!t){return false}var s=0,r=0,q=t.offsetWidth,p=t.offsetHeight;do{t.offsetParent;s+=t.offsetTop;r+=t.offsetLeft}while(t=t.offsetParent);return s<(a.pageYOffset+a.innerHeight)&&r<(a.pageXOffset+a.innerWidth)&&(s+p)>a.pageYOffset&&(r+q)>a.pageXOffset}}if(h.event===m){f.bind(e,function(){var p=0;c.each(function(){if(n(this)){b(this).trigger(d)}else{if(h.failurelimit&&(p++>h.failurelimit)){return j}}});c=b(b.grep(c,function(q){if(q.loaded){b(q).removeData(l)}return !q.loaded}));if(!c.length){f.unbind(g)}})}this.each(function(){var p=this;if(!b(p).data(l)){b(p).data(l,b(p).attr(k))}if(n(b(p))){p.loaded=i}else{if(h.event!==m||!b(p).attr(k)||h.placeholder===b(p).attr(k)||(!n(b(p)))){h.placeholder?b(p).attr(k,h.placeholder):b(p).removeAttr(k);p.loaded=j}}b(p).one(d,function(){if(!this.loaded){b("<img />").bind("load",function(){b(p).hide().attr(k,b(p).data(l))[h.effect](h.effectspeed);p.loaded=i}).attr(k,b(p).data(l))}else{b(p).attr(k,b(p).data(l))}});if(h.event!==m){b(p).bind(e,function(q){if(!p.loaded){b(p).trigger(d)}})}});f.trigger(e);return this}})(jQuery,window);